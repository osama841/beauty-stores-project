/* ===== src/styles/admin/AdminSidebar.css (CLEAN + STABLE) ===== */
:root{
  --admin-sidebar-w: 280px;
  --primary-color: #6a8eec;   /* match header */
  --dark-color: #343a40;      /* match header */
  --text-main: #343a40;
  --text-muted: #6c757d;
  --border-light: #e9ecef;
  --border-dark: #2b2f33;     /* <-- كان ناقص */
  --header-height: 84px;      /* keep in sync with header */
}

/* ثبّت عرض العمود في صفحات الأدمن على >= lg */
@media (min-width: 992px){
  .admin-layout-root > aside{
    flex: 0 0 var(--admin-sidebar-w);
    max-width: var(--admin-sidebar-w);
  }
}

/* أساسيات مشتركة */
.admin-sidebar{
  width: var(--admin-sidebar-w);
  color: #fff;
  font-family: 'Tajawal','Cairo',sans-serif;
  overflow-x: clip; /* أمان ضد التمرير الأفقي */
}

.admin-sidebar__inner{
  position: sticky;                 /* يبقى تحت الهيدر الستكي */
  top: var(--header-height);
  height: calc(100dvh - var(--header-height));
  background: var(--dark-color);
  color: #fff;
  display: flex;
  flex-direction: column;
  padding: 16px 14px;
  gap: 10px;
  overflow-y: auto;
  overflow-x: clip;
  border-inline-end: 1px solid var(--border-dark);
  box-shadow: 0 4px 18px rgba(0,0,0,.18);
}

/* براند وروابط */
.admin-sidebar__brand{
  display:flex; align-items:center; gap:10px;
  color:#fff; font-weight:800;
}
.admin-sidebar__brand i{ color: var(--primary-color); font-size:1.25rem; }

.admin-sidebar__nav{
  list-style:none; margin:8px 0 0; padding:0;
  display:flex; flex-direction:column; gap:6px;
}

.admin-sidebar__link{
  display:flex; align-items:center; gap:10px;
  color:#e9ecef; text-decoration:none;
  padding:10px 12px; border-radius:10px;
  transition: background-color .15s ease, color .15s ease;
  background: transparent; border: none; cursor: pointer; text-align: right;
}
.admin-sidebar__link:hover{ background:#2b2f33; color:#fff; }
.admin-sidebar__link.is-active{
  background: linear-gradient(90deg, rgba(106,142,236,.18), rgba(106,142,236,.05));
  color:#ffffff; outline:1px solid rgba(106,142,236,.45);
}

.admin-sidebar__userbtn{
  width:100%; display:flex; align-items:center; gap:10px;
  color:#f8f9fa; background:transparent; border:none;
}

/* خلفية معتمة للجوال */
.admin-backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  opacity: 0; visibility: hidden;
  transition: opacity .2s ease, visibility 0s linear .2s;
  z-index: 1060;
}
.admin-backdrop.show{ opacity: 1; visibility: visible; transition-delay: 0s; }

/* نسخة الجوال: Drawer */
.admin-sidebar--mobile{
  position: fixed;
  top: var(--header-height);
  right: 0; left: auto;                 /* ثبّت على يمين الشاشة */
  width: min(88vw, var(--admin-sidebar-w));
  height: calc(100dvh - var(--header-height));
  transform: translateX(100%);          /* يدخل من اليمين */
  transition: transform .3s ease;
  z-index: 1065;                        /* أعلى من الخلفية */
  box-shadow: -4px 0 16px rgba(0,0,0,.25);
}
.admin-sidebar--mobile.is-open{ transform: translateX(0); }

.admin-sidebar__close{
  position: absolute; top: 8px; inset-inline-start: 8px;
  background: transparent; border: none; color: #fff; font-size: 1.1rem;
}

/* إخفِ الدروار على الديسكتوب */
@media (min-width: 992px){
  .admin-sidebar--mobile { display: none !important; }
}

/* أمان إضافي لمنع تمرير أفقي على الشاشات الأصغر */
@media (max-width: 1199.98px){
  .admin-sidebar{ overflow-x: clip; }
}
